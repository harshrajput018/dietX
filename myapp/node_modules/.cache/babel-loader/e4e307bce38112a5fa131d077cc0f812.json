{"ast":null,"code":"import _slicedToArray from\"/Users/harshrajput/Documents/code/DietX/myapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import Card from\"./card\";import'../App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Admin(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allUsers=_useState2[0],set=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],change=_useState4[1];console.log(allUsers);useEffect(function(){fetch('http://localhost:8000/admin').then(function(data){return data.json();}).then(function(data){return set(data.allUsers);});},[]);console.log(user);return/*#__PURE__*/_jsxs(\"div\",{style:{minHeight:'90vh'},children:[localStorage.getItem('auth-token-admin')&&/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',margin:'0 auto'},onClick:function onClick(e){if(user){change(null);}},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',width:'80%',margin:'auto'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2rem',fontWeight:'bolder',color:'white',padding:'2rem 0'},children:\"Users\"}),/*#__PURE__*/_jsxs(\"table\",{style:{borderRadius:'1rem'},children:[/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"User Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Userid\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:allUsers.length&&allUsers.map(function(user,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{id:\"link\",onClick:function onClick(){change(function(){return user;});},children:[user.first,\" \",user.last]})}),/*#__PURE__*/_jsx(\"td\",{children:user.userid})]},user._id);})})]})]})})||!localStorage.getItem('auth-token-admin')&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Admin needs to login first \",/*#__PURE__*/_jsx(Link,{className:\"btn btn-primary\",to:'/adminlogin',children:\"Login\"})]}),/*#__PURE__*/_jsx(\"div\",{id:\"card\",style:{position:'absolute',display:!user&&'none',top:'10vh',left:'10%',right:'10%',width:'80%'},children:user&&/*#__PURE__*/_jsx(Card,{elem:user})})]});}","map":{"version":3,"names":["useEffect","useState","Link","Card","Admin","allUsers","set","user","change","console","log","fetch","then","data","json","minHeight","localStorage","getItem","width","margin","e","display","flexDirection","fontSize","fontWeight","color","padding","borderRadius","length","map","index","first","last","userid","_id","position","top","left","right"],"sources":["/Users/harshrajput/Documents/code/DietX/myapp/src/component/admin.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport Card from \"./card\"\nimport '../App.css'\n\nexport default function Admin() {\n\n    const [allUsers, set] = useState([])\n\n    const [user,change]= useState();\n\n    console.log(allUsers)\n\n    useEffect(() => {\n        fetch('http://localhost:8000/admin').then(data => data.json()).then(data => set(data.allUsers))\n    }, [])\n\n    console.log(user)\n\n\n    return (\n        <div style={{minHeight:'90vh'}}>{localStorage.getItem('auth-token-admin')  &&\n            <div style={{ width: '100%', margin: '0 auto' }} onClick={(e)=>{\n                if(user){\n                    change(null)\n                }\n            }}>\n\n\n\n                <div style={{ display: 'flex',flexDirection:'column',width:'80%',margin:'auto'}}>\n                <div style={{fontSize:'2rem',fontWeight:'bolder',color:'white',padding:'2rem 0'}}>Users</div>\n\n                    <table style={{borderRadius:'1rem'}}>\n                        <tbody>\n                            <tr><th>User Name</th>\n                                <th>Userid</th>\n                                </tr>\n                                </tbody>\n                                <tbody>\n                            {\n                                allUsers.length && allUsers.map((user,index) => (\n                                    <tr key={user._id}><td><div id=\"link\" onClick={()=>{\n                                        change(()=>{\n                                            return user;\n                                        })\n                                    }} >{user.first} {user.last}</div></td><td>{user.userid}</td>\n                                    \n                                    </tr>\n                                ))\n                            }\n                        </tbody>\n                    </table>\n\n\n\n                </div>\n\n\n\n\n\n            </div> || (!localStorage.getItem('auth-token-admin') && <div>Admin needs to login first <Link className=\"btn btn-primary\" to={'/adminlogin'}>Login</Link></div>)}\n\n            {  <div id=\"card\" style={{position:'absolute',display:!user && 'none',top:'10vh',left:'10%',right:'10%',width:'80%'}}>{ user && <Card elem={user} />}</div>}\n        </div>\n    )\n}"],"mappings":"mIAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,KAAP,KAAiB,QAAjB,CACA,MAAO,YAAP,C,wFAEA,cAAe,SAASC,MAAT,EAAiB,CAE5B,cAAwBH,QAAQ,CAAC,EAAD,CAAhC,wCAAOI,QAAP,eAAiBC,GAAjB,eAEA,eAAqBL,QAAQ,EAA7B,yCAAOM,IAAP,eAAYC,MAAZ,eAEAC,OAAO,CAACC,GAAR,CAAYL,QAAZ,EAEAL,SAAS,CAAC,UAAM,CACZW,KAAK,CAAC,6BAAD,CAAL,CAAqCC,IAArC,CAA0C,SAAAC,IAAI,QAAIA,KAAI,CAACC,IAAL,EAAJ,EAA9C,EAA+DF,IAA/D,CAAoE,SAAAC,IAAI,QAAIP,IAAG,CAACO,IAAI,CAACR,QAAN,CAAP,EAAxE,EACH,CAFQ,CAEN,EAFM,CAAT,CAIAI,OAAO,CAACC,GAAR,CAAYH,IAAZ,EAGA,mBACI,aAAK,KAAK,CAAE,CAACQ,SAAS,CAAC,MAAX,CAAZ,WAAiCC,YAAY,CAACC,OAAb,CAAqB,kBAArB,gBAC7B,YAAK,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAT,CAAiBC,MAAM,CAAE,QAAzB,CAAZ,CAAiD,OAAO,CAAE,iBAACC,CAAD,CAAK,CAC3D,GAAGb,IAAH,CAAQ,CACJC,MAAM,CAAC,IAAD,CAAN,CACH,CACJ,CAJD,uBAQI,aAAK,KAAK,CAAE,CAAEa,OAAO,CAAE,MAAX,CAAkBC,aAAa,CAAC,QAAhC,CAAyCJ,KAAK,CAAC,KAA/C,CAAqDC,MAAM,CAAC,MAA5D,CAAZ,wBACA,YAAK,KAAK,CAAE,CAACI,QAAQ,CAAC,MAAV,CAAiBC,UAAU,CAAC,QAA5B,CAAqCC,KAAK,CAAC,OAA3C,CAAmDC,OAAO,CAAC,QAA3D,CAAZ,mBADA,cAGI,eAAO,KAAK,CAAE,CAACC,YAAY,CAAC,MAAd,CAAd,wBACI,oCACI,mCAAI,iCAAJ,cACI,8BADJ,GADJ,EADJ,cAMY,uBAEAtB,QAAQ,CAACuB,MAAT,EAAmBvB,QAAQ,CAACwB,GAAT,CAAa,SAACtB,IAAD,CAAMuB,KAAN,qBAC5B,mCAAmB,iCAAI,aAAK,EAAE,CAAC,MAAR,CAAe,OAAO,CAAE,kBAAI,CAC/CtB,MAAM,CAAC,UAAI,CACP,MAAOD,KAAP,CACH,CAFK,CAAN,CAGH,CAJsB,WAIlBA,IAAI,CAACwB,KAJa,KAILxB,IAAI,CAACyB,IAJA,GAAJ,EAAnB,cAIuC,oBAAKzB,IAAI,CAAC0B,MAAV,EAJvC,GAAS1B,IAAI,CAAC2B,GAAd,CAD4B,EAAb,CAFnB,EANZ,GAHJ,GARJ,EAD6B,EAyClB,CAAClB,YAAY,CAACC,OAAb,CAAqB,kBAArB,CAAD,eAA6C,kEAAgC,KAAC,IAAD,EAAM,SAAS,CAAC,iBAAhB,CAAkC,EAAE,CAAE,aAAtC,mBAAhC,GAzC5D,cA2CO,YAAK,EAAE,CAAC,MAAR,CAAe,KAAK,CAAE,CAACkB,QAAQ,CAAC,UAAV,CAAqBd,OAAO,CAAC,CAACd,IAAD,EAAS,MAAtC,CAA6C6B,GAAG,CAAC,MAAjD,CAAwDC,IAAI,CAAC,KAA7D,CAAmEC,KAAK,CAAC,KAAzE,CAA+EpB,KAAK,CAAC,KAArF,CAAtB,UAAqHX,IAAI,eAAI,KAAC,IAAD,EAAM,IAAI,CAAEA,IAAZ,EAA7H,EA3CP,GADJ,CA+CH"},"metadata":{},"sourceType":"module"}