{"ast":null,"code":"import _objectSpread from\"/Users/harshrajput/Documents/code/DietX/myapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/harshrajput/Documents/code/DietX/myapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from\"react\";import{useNavigate,Link}from\"react-router-dom\";import background from'./images/bg3.jpg';import formContext from'../context/form/formcontext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminLogin(){var a=useContext(formContext);console.log(a);var _React$useState=React.useState({Adminid:'',password:''}),_React$useState2=_slicedToArray(_React$useState,2),logincreds=_React$useState2[0],change=_React$useState2[1];var navigate=useNavigate();console.log(logincreds);function handlechange(e){change(function(prev){var temp=_objectSpread({},prev);temp[e.target.name]=e.target.value;return temp;});}function handleclick(e){e.preventDefault();fetch('http://localhost:8000/adminlogin',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({data:logincreds})}).then(function(data){return data.json();}).then(function(data){if(data.success){localStorage.setItem('auth-token-admin',data.authtoken);a.inc(function(prev){return prev+1;});navigate('/admin');}});}function handleadmin(e){e.preventDefault();change(function(prev){return _objectSpread(_objectSpread({},prev),{},{admin:true});});}return/*#__PURE__*/_jsx(\"div\",{style:{backgroundImage:\"url(\".concat(background,\")\"),height:'100vh',color:'white'},children:/*#__PURE__*/_jsxs(\"form\",{style:{width:'50%',marginLeft:'auto',marginRight:'auto',paddingTop:'80px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'300%',textAlign:'center',fontFamily:'sans-serif'},children:\"ADMIN LOGIN\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",className:\"form-label\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{style:{background:'transparent',border:'solid white 0.15rem',color:'white'},onChange:handlechange,name:\"Adminid\",type:\"text\",className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\"}),/*#__PURE__*/_jsx(\"div\",{id:\"emailHelp\",className:\"form-text\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword1\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{style:{background:'transparent',border:'solid white 0.15rem',color:'white'},onChange:handlechange,name:\"password\",type:\"password\",className:\"form-control\",id:\"exampleInputPassword1\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleclick,className:\"btn btn-primary\",children:\"Submit\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"small\",{children:[\"Haven't registered yet. \",/*#__PURE__*/_jsx(Link,{style:{fontSize:'1rem',padding:'1px 1rem',marginBottom:'0.5rem'},to:'/signup',className:\"btn btn-secondary\",children:\"Signup\"})]})]})});}","map":{"version":3,"names":["React","useContext","useEffect","useState","useNavigate","Link","background","formContext","AdminLogin","a","console","log","Adminid","password","logincreds","change","navigate","handlechange","e","prev","temp","target","name","value","handleclick","preventDefault","fetch","method","headers","body","JSON","stringify","data","then","json","success","localStorage","setItem","authtoken","inc","handleadmin","admin","backgroundImage","height","color","width","marginLeft","marginRight","paddingTop","fontSize","textAlign","fontFamily","border","padding","marginBottom"],"sources":["/Users/harshrajput/Documents/code/DietX/myapp/src/component/adminlogin.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { useNavigate,Link } from \"react-router-dom\";\nimport background from './images/bg3.jpg'\nimport formContext from '../context/form/formcontext';\n\n\n\n\nexport default function AdminLogin() {\n\n    \n   \n    const a=useContext(formContext)\n\n    console.log(a)\n\n\n    const [logincreds, change] = React.useState({ Adminid: '', password: ''})\n\n\n\n    const navigate = useNavigate();\n\n    console.log(logincreds)\n\n    function handlechange(e) {\n\n        change(prev => {\n            let temp = { ...prev }\n            temp[e.target.name] = e.target.value;\n\n            return temp;\n        })\n\n    }\n\n    function handleclick(e) {\n\n        e.preventDefault()\n        fetch('http://localhost:8000/adminlogin', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ data: logincreds })\n        }).then(data => data.json()).then(data => {\n            if (data.success) {\n                localStorage.setItem('auth-token-admin', data.authtoken)\n\n                \n                a.inc(prev=>prev+1)\n                navigate('/admin')\n\n            }\n        })\n\n    }\n\n   \n\n    function handleadmin(e) {\n\n        e.preventDefault()\n\n        change(prev => { return ({ ...prev, admin: true }) })\n\n\n\n    }\n\n    \n\n\n\n\n    return (\n        <div style={{ backgroundImage: `url(${background})`,height:'100vh',color:'white' }}>\n            <form style={{ width: '50%', marginLeft: 'auto', marginRight: 'auto', paddingTop: '80px' }}>\n                <div style={{ fontSize: '300%', textAlign: 'center', fontFamily: 'sans-serif' }}>ADMIN LOGIN</div>\n                <div className=\"mb-3\">\n                    <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">Email address</label>\n                    <input style={{background:'transparent',border:'solid white 0.15rem',color:'white'}} onChange={handlechange} name='Adminid' type=\"text\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" />\n                    <div id=\"emailHelp\" className=\"form-text\">We'll never share your email with anyone else.</div>\n                </div>\n                <div className=\"mb-3\">\n                    <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">Password</label>\n                    <input style={{background:'transparent',border:'solid white 0.15rem',color:'white'}} onChange={handlechange} name=\"password\" type=\"password\" className=\"form-control\" id=\"exampleInputPassword1\" />\n                </div>\n\n                <button onClick={handleclick} className=\"btn btn-primary\">Submit</button>\n                \n\n                <br />\n                <small >Haven't registered yet. <Link style={{ fontSize: '1rem', padding: '1px 1rem', marginBottom: '0.5rem' }} to={'/signup'} className='btn btn-secondary'>Signup</Link></small>\n            </form>\n\n\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}